<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Friend Finder Survey</title>
  <!-- Latest compiled and minified CSS & JS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

</head>

<body>

  <div class="container">
    <div class="jumbotron">
      <h1>Friend Finder</h1>
      <h3>Get started by answering a few quick questions about yourself!</h3>
      <hr>
      <a href="/home.html">
        <button class="btn btn-lg btn-primary">
          <span class="fa fa-list-alt"></span> Home</button>
      </a>
      <a href="/">
        <button class="btn btn-danger btn-lg">
          <span class="fa fa-eye"></span> View Friends</button>
      </a>
    </div>
    <div class="row">

      <div class="col-sm-8">

        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">
              <strong>Survey questions</strong>
            </h3>
            please choose an answer below based on a scale of 1-5. 1=disagree and 5=strongly agree.
            <br>
            <br>
          </div>
          <div class="panel-body">
            <form method="POST" role="form">

              <div class="form-group">
                <label for="q1">I like outdoor activities like camping</label>
                <input type="text" class="form-control" id="q1">
              </div>

              <div class="form-group">
                <label for="q2">I like to go out to bars</label>
                <input type="text" class="form-control" id="q2">
              </div>

              <div class="form-group">
                <label for="q3">I like being around children</label>
                <input type="text" class="form-control" id="q3">
              </div>

              <div class="form-group">
                <label for="q4">I like to talk about politics</label>
                <input type="text" class="form-control" id="q4">
              </div>

              <div class="form-group">
                <label for="q5">I like to play a lot of video games </label>
                <input type="text" class="form-control" id="q5">
              </div>

            </form>
            <br>
            <div class="text-right">
              <button type="submit" class="btn btn-primary btn-md" id="submit-survey">
                <span class="fa fa-fire"></span> Find my match</button>
            </div>
          </div>

          <br>
          <br>

          <script type="text/javascript">

            $(".submit").on("click", function (event) {
              event.preventDefault();

              var newSurvey = {
                q1: $("#q1").val().trim(),
                q2: $("#q2").val().trim(),
                q3: $("#q3").val().trim(),
                q4: $("#q4").val().trim()
              };

              console.log(newSurvey);
              $.post("/api/friend", newSurvey,
                function (data) {

                  // If survey is submitted.
                  if (data) {

                   // placeholder for the matching algorithms 


                    alert("We've found a match");
                  }

                  // If a match is not available... tell user.
                  else {
                    alert("Sorry we couldnt find a match");
                  }

                  // Clear the form when submitting
                  $("#q1").val("");
                  $("#q2").val("");
                  $("#q3").val("");
                  $("#q4").val("");

                });

            });
          </script>

</body>

</html>